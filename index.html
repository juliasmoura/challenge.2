<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="stylesheet" href="estilos.css">
  <title>Frontend Mentor | Interactive card details form</title>

  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
    .inline {
      float: left;
      width: 45%; 
      margin-right: 10px; 
  }
  </style>
</head>
<body>
  <div id="image"></div>
  <div id="card_front"></div>
  <div id="card_back"></div>
  <form id="form">
      <label for="name">CARDHOLDER NAME</label>
      <input type="text_" id="name" minlength="1" maxlength="25" placeholder="e.g. Jane Appleseed" class="input required" oninput="cardHolderValidate(0)"><div id="output_name" ></div>
      <span class="span required1"> Can't be blank</span>
    <br>
      <label for="number">CARD NUMBER</label>
      <input type="number_" id="number"  minlength="19" maxlength="19"placeholder="e.g. 1234 5678 9123 0000" class="input required" oninput="cardHolderValidate(1)"><div id="output_number" ></div>
      <span class="span required2"> Can't be blank</span>
    <br>

    <div class="inline">
      <label for="date">EXP. DATE (MM/YY)</label>
      <input type="month_" id="same_line1"  maxlength="2" placeholder="MM" class="input required" oninput="cardHolderValidate(2)"> <div id="output_line1" ></div>
      <span class="span required3"> Can't be blank</span>

      <input type="year_" id="same_line2"  maxlength="2" placeholder="YY" class="input required" oninput="cardHolderValidate(3)"> <div id="output_line2"></div>
      <span class="span required4"> Can't be blank</span>
    </div>

    <div class="inline"> 
      <label for="cvv">CVV</label>
      <input type="number_" id="cvv" minlength="3" maxlength="3" placeholder="C  e.g. 123" class="input required" oninput="cardHolderValidate(4)"><div id="output_cvv"></div>
      <span class="span required5"> Can't be blank</span>
    </div>

    <br>

    <button type="submit">Confirm</button>
  </form>

  <div id="barra">/</div>
  <div id="symbol"></div>
  <div id="symbol2"></div>
    
  </div>
  <script id="info-place">
    const form = document.getElementById('form');
    const name = document.getElementById('name');
    const output_name = document.getElementById('output_name');

    const inputs = document.querySelectorAll('input');
    const spans = document.querySelectorAll('span');

    form.addEventListener('submit', (event) =>{
      event.preventDefault();
      console.log('abcaa');
      for(let i = 0; i < 5; i++){
        cardHolderValidate(i);
      }
    });

    

    name.addEventListener('input', () => {
      output_name.textContent = name.value;
  });

  const number = document.getElementById('number');
    const output_number = document.getElementById('output_number');
    number.addEventListener('input', () => {
      output_number.textContent = number.value;
  });

  const same_line1 = document.getElementById('same_line1');
  const output_line1 = document.getElementById('output_line1');
  same_line1.addEventListener('input', () => {
    output_line1.textContent = same_line1.value;
});

  const same_line2 = document.getElementById('same_line2');
  const output_line2 = document.getElementById('output_line2');
  same_line2.addEventListener('input', () => {
    output_line2.textContent = same_line2.value;
});
  const cvv = document.getElementById('cvv');
  const output_cvv = document.getElementById('output_cvv');
  cvv.addEventListener('input', () => {
    output_cvv.textContent = cvv.value;
});

    
    function setError(index){ 
      inputs[index].style.border = '2px solid hsl(0, 100%, 66%)';
      spans[index].style.display = 'block';
    }

    function removeError(index){
      inputs[index].style.border = '';
      spans[index].style.display = 'none';
    }

    function cardHolderValidate(index){
      if(inputs[index].value.length < 1){
        setError(index);
        }
      else{
        removeError(index);
      }
    }
  
  </script>

</body>
</html>
